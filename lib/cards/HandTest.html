<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Unit Tests</title>
</head>
<body>
	<h1>Unit Tests</h1>
	<ol id="resulsList">
	</ol>
	<script src="card.js"></script>
	<script src="hand.js"></script>
	<script>
		"use strict";

		var Tests = {
			testIsJacksOrBetterWithWinning : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("4", "D", 4), new Card("5", "H", 5),
						new Card("A", "S", 14), new Card("A", "C", 14) ]);

				return hand.isJacksOrBetter();
			},

			testIsTwoPairWithWinning : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("3", "D", 3), new Card("5", "H", 5),
						new Card("5", "S", 5), new Card("7", "S", 7) ]);

				return hand.isTwoPair();
			},

			testIsThreeOfAKindWithWinning : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("3", "D", 3), new Card("3", "H", 5),
						new Card("5", "S", 5), new Card("7", "S", 7) ]);

				return hand.isThreeOfAKind();
			},

			testIsStraightWithWinningWithoutLowAce : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("4", "D", 4), new Card("5", "H", 5),
						new Card("6", "S", 6), new Card("7", "C", 7) ]);

				return hand.isStraight();
			},

			testIsStraightWithWinningWithLowAce : function() {
				var hand = new Hand([ new Card("2", "S", 2),
						new Card("3", "C", 3), new Card("4", "D", 4),
						new Card("5", "H", 5), new Card("A", "C", 14) ]);

				return hand.isStraight();
			},

			testIsFlushWithWinning : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("4", "C", 4), new Card("5", "C", 5),
						new Card("6", "C", 6), new Card("K", "C", 13) ]);

				return hand.isFlush();
			},

			testIsFullHouseWithWinning : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("3", "D", 3), new Card("3", "H", 3),
						new Card("7", "D", 7), new Card("7", "S", 7) ]);

				return hand.isFullHouse();
			},

			testIsFourOfAKindWithWinning : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("3", "D", 3), new Card("3", "H", 3),
						new Card("3", "S", 3), new Card("7", "S", 7) ]);

				return hand.isFourOfAKind();
			},

			testIsStraightFlushWithWinningWithoutLowAce : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("4", "C", 4), new Card("5", "C", 5),
						new Card("6", "C", 6), new Card("7", "C", 7) ]);

				return hand.isStraightFlush();
			},

			testIsStraightFlushWithWinningWithLowAce : function() {
				var hand = new Hand([ new Card("2", "C", 2),
						new Card("3", "C", 3), new Card("4", "C", 4),
						new Card("5", "C", 5), new Card("A", "C", 14) ]);

				return hand.isStraightFlush();
			},

			testIsRoyalFlushWithWinning : function() {
				var hand = new Hand([ new Card("T", "C", 10),
						new Card("J", "C", 11), new Card("Q", "C", 12),
						new Card("K", "C", 13), new Card("A", "C", 14) ]);

				return hand.isRoyalFlush();
			},

			testGetWinningsWithAPairOfAces : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("4", "D", 4), new Card("5", "H", 5),
						new Card("A", "S", 14), new Card("A", "C", 14) ]);

				return hand.getWinnings();
			},

			testGetWinningsWithNothing : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("4", "D", 4), new Card("5", "H", 5),
						new Card("J", "S", 11), new Card("A", "C", 14) ]);

				return hand.getWinnings() === Hand.LOSING_HAND;
			},

			testGroupCardsByRankWithNoPairs : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("4", "D", 4), new Card("5", "H", 5),
						new Card("J", "S", 11), new Card("A", "C", 14) ]);
				var groups = hand.groupCardsByRank();

				for ( var rank in groups) {
					if (groups[rank].length != 1) {
						return false;
					}
				}

				return true;
			},

			testGroupCardsByRankWithOnePair : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("3", "D", 3), new Card("5", "H", 5),
						new Card("J", "S", 11), new Card("A", "C", 14) ]);
				var groups = hand.groupCardsByRank();

				for ( var rank in groups) {
					if ((groups[rank].length != 1)
							&& (groups[rank].length != 2)) {
						return false;
					}
				}

				return true;
			},

			testGroupCardsByRankWithThreeOfAKind : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("3", "D", 3), new Card("3", "H", 3),
						new Card("J", "S", 11), new Card("A", "C", 14) ]);
				var groups = hand.groupCardsByRank();

				for ( var rank in groups) {
					if ((groups[rank].length != 1)
							&& (groups[rank].length != 3)) {
						return false;
					}
				}

				return true;
			},

			testGroupCardsByRankWithFourOfAKind : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("3", "D", 3), new Card("3", "H", 3),
						new Card("3", "S", 3), new Card("A", "C", 14) ]);
				var groups = hand.groupCardsByRank();

				for ( var rank in groups) {
					if ((groups[rank].length != 1)
							&& (groups[rank].length != 4)) {
						return false;
					}
				}

				return true;
			},

			testGroupCardsByRankWithFullhouse : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("3", "D", 3), new Card("3", "H", 3),
						new Card("J", "S", 11), new Card("J", "C", 11) ]);
				var groups = hand.groupCardsByRank();

				for ( var rank in groups) {
					if ((groups[rank].length != 2)
							&& (groups[rank].length != 3)) {
						return false;
					}
				}

				return true;
			},

			testGet4CardsToKeepWithTwoPair : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("3", "D", 3), new Card("4", "H", 4),
						new Card("4", "S", 4), new Card("J", "C", 11) ]);
				var cardsToKeep = hand.get4CardsToKeep();

				return (cardsToKeep != null);
			},

			testIsStraightDrawWithOutsideStraightNotStartingWithDeuce : function() {
				var cards = [ new Card("3", "C", 3), new Card("4", "D", 4),
						new Card("5", "H", 5), new Card("6", "S", 6) ];
				var result = Hand._isStraightDraw(cards);

				return (result == true);
			},

			testIsStraightDrawWithInsideStraightNotStartingWithDeuce : function() {
				var cards = [ new Card("3", "C", 3), new Card("4", "D", 4),
						new Card("5", "H", 5), new Card("7", "S", 7) ];
				var result = Hand._isStraightDraw(cards);

				return (result == true);
			},

			testIsStraightDrawWithOutsideStraightStartingWithDeuce : function() {
				var cards = [ new Card("2", "C", 2), new Card("4", "D", 4),
						new Card("5", "H", 5), new Card("A", "S", 14) ];
				var result = Hand._isStraightDraw(cards);

				return (result == true);
			},
			
			testGet4CardsToKeepWithStraightDrawWithLowRemainder : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("4", "C", 4), new Card("5", "C", 5),
						new Card("6", "C", 6), new Card("T", "D", 10) ]);
				var cardsToKeep = hand.get4CardsToKeep();

				return (cardsToKeep.length == 4);
			},

			testGet4CardsToKeepWithStraightDrawWithHighRemainder : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("4", "C", 4), new Card("5", "C", 5),
						new Card("6", "C", 6), new Card("J", "D", 11) ]);
				var cardsToKeep = hand.get4CardsToKeep();

				return (cardsToKeep.length == 1);
			},

			testGet4CardsToKeepWithAceLowStraightDrawWithLowRemainder : function() {
				var hand = new Hand([ new Card("2", "C", 2),
						new Card("3", "C", 3), new Card("4", "C", 4),
						new Card("T", "D", 10), new Card("A", "C", 14) ]);
				var cardsToKeep = hand.get4CardsToKeep();

				return (cardsToKeep.length == 4);
			},

			testGet3CardsToKeepWithThreeOfAKind : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("3", "D", 3), new Card("3", "H", 3),
						new Card("T", "D", 10), new Card("A", "C", 14) ]);
				var cardsToKeep = hand.get3CardsToKeep();

				return (cardsToKeep.length == 3);
			},

			testGet3CardsToKeepWithTwoOfAKind : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("3", "D", 3), new Card("4", "H", 4),
						new Card("T", "D", 10), new Card("A", "C", 14) ]);
				var cardsToKeep = hand.get3CardsToKeep();

				return (cardsToKeep == null);
			},

			testGet2CardsToKeepWithAPairOfFacecards : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("4", "D", 4), new Card("10", "H", 10),
						new Card("A", "D", 14), new Card("A", "C", 14) ]);
				var cardsToKeep = hand.get2CardsToKeep();

				return (cardsToKeep.length == 2);
			},

			testGet2CardsToKeepWithAnotherPairOfFacecards : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("4", "D", 4), new Card("10", "H", 10),
						new Card("J", "D", 11), new Card("J", "C", 11) ]);
				var cardsToKeep = hand.get2CardsToKeep();

				return (cardsToKeep.length == 2);
			},

			testGet2CardsToKeepWithALowPairAndNoFacecards : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("4", "D", 4), new Card("9", "H", 9),
						new Card("10", "D", 10), new Card("10", "C", 10) ]);
				var cardsToKeep = hand.get2CardsToKeep();

				return (cardsToKeep.length == 2);
			},

			testGet2CardsToKeepWithALowPairAndOneFacecard : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("4", "D", 4), new Card("10", "H", 10),
						new Card("10", "D", 10), new Card("J", "C", 11) ]);
				var cardsToKeep = hand.get2CardsToKeep();

				return (cardsToKeep.length == 1);
			},

			testGet2CardsToKeepWithNoPairsAndOneFacecard : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("4", "D", 4), new Card("8", "H", 8),
						new Card("10", "D", 10), new Card("J", "C", 11) ]);
				var cardsToKeep = hand.get2CardsToKeep();

				return (cardsToKeep.length == 1);
			},

			testGet2CardsToKeepWithALowPairAndTwoFacecards : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("10", "D", 10), new Card("10", "H", 10),
						new Card("J", "D", 11), new Card("K", "C", 13) ]);
				var cardsToKeep = hand.get2CardsToKeep();

				return (cardsToKeep.length == 2);
			},

			testGet2CardsToKeepWithALowPairAndThreeFacecardsWithTwOfThemSuited : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("10", "D", 10), new Card("J", "H", 11),
						new Card("Q", "D", 12), new Card("A", "H", 14) ]);
				var cardsToKeep = hand.get2CardsToKeep();

				return (cardsToKeep.length == 2) && (cardsToKeep[0].rank == "J") && (cardsToKeep[1].rank == "A") ;
			},

			testGet2CardsToKeepWithALowPairAndThreeFacecardsWithNoneOfThemSuited : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("10", "D", 10), new Card("J", "H", 11),
						new Card("Q", "D", 12), new Card("A", "S", 14) ]);
				var cardsToKeep = hand.get2CardsToKeep();

				return (cardsToKeep.length == 2) && (cardsToKeep[0].rank == "J") && (cardsToKeep[1].rank == "Q") ;
			},

			
			testGetCardsToKeepWithStraightDrawWithLowRemainder : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("4", "C", 4), new Card("5", "C", 5),
						new Card("6", "C", 6), new Card("T", "D", 10) ]);
				var cardsToKeep = hand.getCardsToKeep();

				return (cardsToKeep.length == 4);
			},

			testGetCardsToKeepWithStraightDrawWithHighRemainder : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("4", "C", 4), new Card("5", "C", 5),
						new Card("6", "C", 6), new Card("J", "D", 11) ]);
				var cardsToKeep = hand.getCardsToKeep();

				return (cardsToKeep.length == 1);
			},

			testGetCardsToKeepWithAceLowStraightDrawWithLowRemainder : function() {
				var hand = new Hand([ new Card("2", "C", 2),
						new Card("3", "C", 3), new Card("4", "C", 4),
						new Card("T", "D", 10), new Card("A", "C", 14) ]);
				var cardsToKeep = hand.getCardsToKeep();

				return (cardsToKeep.length == 4);
			},

			testGetCardsToKeepWithThreeOfAKind : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("3", "D", 3), new Card("3", "H", 3),
						new Card("T", "D", 10), new Card("A", "C", 14) ]);
				var cardsToKeep = hand.getCardsToKeep();

				return (cardsToKeep.length == 3);
			},

			testGetCardsToKeepWithTwoOfAKind : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("3", "D", 3), new Card("4", "H", 4),
						new Card("T", "D", 10), new Card("A", "C", 14) ]);
				var cardsToKeep = hand.getCardsToKeep();

				return (cardsToKeep.length == 1);
			},

			testGetCardsToKeepWithAPairOfFacecards : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("4", "D", 4), new Card("10", "H", 10),
						new Card("A", "D", 14), new Card("A", "C", 14) ]);
				var cardsToKeep = hand.getCardsToKeep();

				return (cardsToKeep.length == 2);
			},

			testGetCardsToKeepWithAnotherPairOfFacecards : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("4", "D", 4), new Card("10", "H", 10),
						new Card("J", "D", 11), new Card("J", "C", 11) ]);
				var cardsToKeep = hand.getCardsToKeep();

				return (cardsToKeep.length == 2);
			},

			testGetCardsToKeepWithALowPairAndNoFacecards : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("4", "D", 4), new Card("9", "H", 9),
						new Card("10", "D", 10), new Card("10", "C", 10) ]);
				var cardsToKeep = hand.getCardsToKeep();

				return (cardsToKeep.length == 2);
			},

			testGetCardsToKeepWithALowPairAndOneFacecard : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("4", "D", 4), new Card("10", "H", 10),
						new Card("10", "D", 10), new Card("J", "C", 11) ]);
				var cardsToKeep = hand.getCardsToKeep();

				return (cardsToKeep.length == 1);
			},

			testGetCardsToKeepWithNoPairsAndOneFacecard : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("4", "D", 4), new Card("8", "H", 8),
						new Card("10", "D", 10), new Card("J", "C", 11) ]);
				var cardsToKeep = hand.getCardsToKeep();

				return (cardsToKeep.length == 1);
			},

			testGetCardsToKeepWithALowPairAndTwoFacecards : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("10", "D", 10), new Card("10", "H", 10),
						new Card("J", "D", 11), new Card("K", "C", 13) ]);
				var cardsToKeep = hand.getCardsToKeep();

				return (cardsToKeep.length == 2);
			},

			testGetCardsToKeepWithALowPairAndThreeFacecardsWithTwOfThemSuited : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("10", "D", 10), new Card("J", "H", 11),
						new Card("Q", "D", 12), new Card("A", "H", 14) ]);
				var cardsToKeep = hand.getCardsToKeep();

				return (cardsToKeep.length == 2) && (cardsToKeep[0].rank == "J") && (cardsToKeep[1].rank == "A") ;
			},

			testGetCardsToKeepWithALowPairAndThreeFacecardsWithNoneOfThemSuited : function() {
				var hand = new Hand([ new Card("3", "C", 3),
						new Card("10", "D", 10), new Card("J", "H", 11),
						new Card("Q", "D", 12), new Card("A", "S", 14) ]);
				var cardsToKeep = hand.getCardsToKeep();

				return (cardsToKeep.length == 2) && (cardsToKeep[0].rank == "J") && (cardsToKeep[1].rank == "Q") ;
			},

			
		}

		function init() {
			var listElement = document.getElementById("resulsList");
			var itemElement;
			var textNode;
			var result;
			var message

			for ( var test in Tests) {

				result = Tests[test]();
				if (result) {
					message = test + ": passed.";
				} else {
					message = test + ": failed.";
				}

				console.log(message);
				itemElement = document.createElement("li");
				textNode = document.createTextNode(message);
				itemElement.appendChild(textNode);
				listElement.appendChild(itemElement);
			}
		}

		window.addEventListener("load", init);
	</script>
</body>
</html>